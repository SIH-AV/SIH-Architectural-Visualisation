<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIH Architectural Visualisation</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">
</head>
<body oncontextmenu="return false">
    <!-- Navigation -->
    <nav class="navbar">
        <a href="index.html" class="logo">
            <img src="LOGO FINAL.png" alt="Your Logo" class="logo-image">
        </a>
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="nav-links">
            <a href="index.html">HOME</a>
            <a href="portfolio.html">WORK GALLERY</a>
            <a href="services.html">SERVICES</a>
            <a href="index.html#pricing">PRICING</a>
            <a href="index.html#contact">CONTACT</a>
        </div>
    </nav>
    
    <!-- Main Content Section -->
    <main class="gallery-content">
        <div class="gallery-container">
            <div class="gallery-grid">
                <!-- Gallery items will be dynamically added here -->
            </div>
        </div>

        <!-- Lightbox -->
        <div id="lightbox" class="lightbox">
            <span class="close-btn" onclick="closeLightbox()">&times;</span>
            <button class="nav-btn prev" onclick="changeImage(-1)"><span>&#10094;</span></button>
            <button class="nav-btn next" onclick="changeImage(1)"><span>&#10095;</span></button>
            <div class="lightbox-content">
                <img id="lightbox-img" src="" alt="Enlarged Image">
            </div>
        </div>
    </main>

    <!-- Footer Section -->
    <footer class="footer">
        <div class="footer-content">
            <p>Copyrights Â© SIH Architectural Visualisation 2024 | All Rights Reserved</p>
        </div>
    </footer>

    <script>
        let galleryImages = [];
        const FOLDER_NAME = "Final Images"; // Change this to your folder name
    
        function loadGallery() {
            const galleryGrid = document.querySelector('.gallery-grid');
            galleryGrid.innerHTML = '';
            galleryImages = [];
    
            // Load the first 6 images immediately
            for (let i = 1; i <= 6; i++) {
                const img = new Image();
                img.src = `${FOLDER_NAME}/${i}.jpg`;
                img.alt = `Image ${i}`;
                img.onload = () => {
                    galleryImages.push({ src: img.src, alt: img.alt });
    
                    const galleryItem = document.createElement('div');
                    galleryItem.className = 'gallery-item';
                    galleryItem.innerHTML = `
                        <img class="loaded-image" 
                             src="${img.src}" 
                             alt="${img.alt}" 
                             onclick="openLightbox(${i - 1})">
                    `;
                    galleryGrid.appendChild(galleryItem);
                };
    
                img.onerror = () => {
                    console.error(`Failed to load image ${i}`);
                };
            }
    
            // Lazy-load the remaining images starting from the 7th
            function tryLoadImage(index) {
                const img = new Image();
                img.onload = function () {
                    galleryImages.push({
                        src: img.src,
                        alt: `Image ${index}`
                    });
    
                    const galleryItem = document.createElement('div');
                    galleryItem.className = 'gallery-item';
                    galleryItem.innerHTML = `
                        <img class="lazy-image" 
                             src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" 
                             data-src="${img.src}" 
                             alt="Image ${index}" 
                             onclick="openLightbox(${galleryImages.length - 1})">
                    `;
                    galleryGrid.appendChild(galleryItem);
    
                    tryLoadImage(index + 1);
                };
    
                img.onerror = function () {
                    lazyLoad();
                };
    
                img.src = `${FOLDER_NAME}/${index}.jpg`;
            }
    
            tryLoadImage(7); // Start loading from the 7th image
        }
    
        // Lazy loading implementation
        const lazyLoad = () => {
            const lazyImages = document.querySelectorAll('.lazy-image');
    
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
    
                        img.onload = function () {
                            img.classList.add('loaded');
                        };
    
                        observer.unobserve(img);
                    }
                });
            }, {
                rootMargin: '50px 0px',
                threshold: 0.01
            });
    
            lazyImages.forEach(img => imageObserver.observe(img));
        };
    
        // Load gallery on page load
        window.addEventListener('DOMContentLoaded', loadGallery);
    </script>
    


</body>
</html>